!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueRecaptcha=t()}(this,function(){"use strict";function e(){var e=null,n=t();return{setRecaptcha:function(t){e=t,n.resolve(t)},getRecaptcha:function(){return e?Promise.resolve(e):n.promise},render:function(e,t,n){return this.getRecaptcha().then(function(i){var r=Object.assign({},{sitekey:t},n);return i.render(e,r)})},reset:function(t){"undefined"!=typeof t&&(this.assertRecaptchaLoad(),e.reset(t))},checkRecaptchaLoad:function(){window.hasOwnProperty("grecaptcha")&&this.setRecaptcha(window.grecaptcha)},assertRecaptchaLoad:function(){if(null===e)throw new Error("ReCAPTCHA has not been loaded")}}}var t=function(){var e={};return e.promise=new Promise(function(t){e.resolve=t}),e},n=e();window.vueRecaptchaApiLoaded=function(){n.setRecaptcha(window.grecaptcha)};var i=null,r={props:{sitekey:{type:String,required:!0},options:{type:Object,default:function(){return{}}}},created:function(){n.checkRecaptchaLoad()},mounted:function(){var e=this,t=Object.assign({},this.options,{callback:this.emitVerify,"expired-callback":this.emitExpired});n.render(this.$refs.container,this.sitekey,t).then(function(t){i=t,e.$emit("render",i)})},methods:{reset:function(){n.reset(i)},emitVerify:function(e){this.$emit("verify",e)},emitExpired:function(){this.$emit("expired")}},events:{recaptchaReset:function(){this.reset()}},render:function(e){return e("div",{ref:"container"},[])}};return r});
